(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{440:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[t("strong",[s._v("导语")]),s._v("：之前写过一个测速小工具，使用的是"),t("code",[s._v("speedtest-cli")]),s._v("提供的api方法，当然除了这个还有其他的测速工具，今天就这个测速工具来说一下使用体验和感受。")])]),s._v(" "),t("ul",[t("li",[s._v("测速科普")]),s._v(" "),t("li",[s._v("测速工具")]),s._v(" "),t("li",[s._v("DNS模块")]),s._v(" "),t("li",[s._v("实战案例")])]),s._v(" "),t("h2",{attrs:{id:"测速科普"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测速科普"}},[s._v("#")]),s._v(" 测速科普")]),s._v(" "),t("ul",[t("li",[s._v("上传下载")])]),s._v(" "),t("p",[s._v("网络传输分为发送和接收数据两部分，上传就是发送数据，下载就是接收数据，传输的速度会受到带宽和设备的制约。")]),s._v(" "),t("ul",[t("li",[s._v("Byte和Bit")])]),s._v(" "),t("p",[s._v("日常传输中大约1Mbps=1024/8KB/s=128KB/s(1/8),大B是byte字节，小b是bit比特，1B=8b。比如说你家里的宽带是100Mbps，那么理论上最大上传速度是12800KB/s,也就是12.5MB/s。")]),s._v(" "),t("p",[s._v("上网过程中的过程中网速快慢会受到来自自身电脑软硬件配置、游览网站位置、运营商切换等影响，所以实际网速会低于理论网速的。")]),s._v(" "),t("ul",[t("li",[s._v("宽带速率")])]),s._v(" "),t("p",[s._v("下面是一个常见的宽带速率对照表：")]),s._v(" "),t("p",[s._v("宽带速率单位用bps表示，即比特每秒钟传输多少信息，是bit per second的缩写，实际上说的1M带宽是1Mbps(兆比特每秒)。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/speed04.jpg",alt:"宽带速率对照表"}})]),s._v(" "),t("ul",[t("li",[s._v("Ping")])]),s._v(" "),t("p",[s._v("ping是指一个数据包从用户的设备发送到测速点或站点，然后再返回所用的时间。一般以毫米奥计算，0-100ms都是正常的，不会有明显的卡顿。")]),s._v(" "),t("ul",[t("li",[s._v("抖动")])]),s._v(" "),t("p",[s._v("网络延迟是指信息从发送到接收经过的延迟时间，抖动是最大延迟和最小延迟的时间差，比如最大延迟30ms，最小延迟10ms，抖动就是20ms，标识网络的稳定性。")]),s._v(" "),t("ul",[t("li",[s._v("丢包")])]),s._v(" "),t("p",[s._v("丢包是指一个或者多个数据包无法通过网络到达目的地。原因可能有网络中路径衰落造成信号衰减，通道阻塞，损坏的数据包被拒绝通过，有缺陷的网上硬件，网络驱动程序有故障等等。")]),s._v(" "),t("h2",{attrs:{id:"测速工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测速工具"}},[s._v("#")]),s._v(" 测速工具")]),s._v(" "),t("p",[s._v("说到测速，大家都应该不陌生吧，我们生活在这个网络时代，几乎家家户户都装了宽带，连接了无线，都要上网。")]),s._v(" "),t("p",[s._v("那么网速的快慢就决定了你的上网体验，网速快的话，购物，玩游戏，看剧刷视频都很棒的，但是很卡的网速什么也做不了。")]),s._v(" "),t("p",[s._v("接下来，我就说一下我平时用到的几款测速工具。")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.speedtest.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ookla"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.speedtest.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("测速网"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://wangsuceshi.bmcx.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("便民查询网"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("下面就来看一下测速的界面结果和差异。")]),s._v(" "),t("p",[t("strong",[s._v("ookla的测速结果")]),s._v("：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/speed03.jpg",alt:"ookla"}})]),s._v(" "),t("p",[t("strong",[s._v("便民查询网的测速结果")]),s._v("：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/speed01.jpg",alt:"便民查询网"}})]),s._v(" "),t("p",[t("strong",[s._v("测速网的测速结果")]),s._v("：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/speed02.jpg",alt:"测速网"}})]),s._v(" "),t("p",[s._v("不过开发一款测速小工具就需要用到命令行工具了，可以自己选择测速供应商，获取专属测速结果，很方便开发者使用。")]),s._v(" "),t("h2",{attrs:{id:"dns模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dns模块"}},[s._v("#")]),s._v(" DNS模块")]),s._v(" "),t("p",[s._v("这个dns模块是nodejs自带的一个内部模块，用来进行dns相关的操作。下面就简单的几个方法进行说明。")]),s._v(" "),t("ul",[t("li",[s._v("获取用户ip地址")])]),s._v(" "),t("p",[s._v("进行dns首选获取用户的ip地址，然后再进行相应的操作。下面是我自己写的一个获取用户ip地址的方法，在这里写一下,一定要使用nodejs或者相关框架比如express才可以调用的。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取用户ip地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * req就是请求头\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClientIP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x-forwarded-for'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断是否有反向代理 IP")]),s._v("\n        req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remoteAddress "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断 connection 的远程 IP")]),s._v("\n        req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remoteAddress "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断后端的 socket 的 IP")]),s._v("\n        req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remoteAddress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("查询城市和运营商")])]),s._v(" "),t("p",[s._v("这里要使用到一个npm包"),t("a",{attrs:{href:"https://www.npmjs.com/package/ip2region",target:"_blank",rel:"noopener noreferrer"}},[s._v("ip2region"),t("OutboundLink")],1),s._v(",这个可以查询ip所对应的运营商和城市。")]),s._v(" "),t("p",[s._v("通过上面方法拿到用户ip后，可以通过这个包提供的方法查询，支持ipv4和ipv6。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" ip2region "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ip2region'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" query "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ip2region")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" ip "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClientIP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 比如这里ip是120.25.58.68")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" res1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" query"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("search")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// { country: '中国', province: '广东省', city: '深圳市', isp: '阿里云' }")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" res2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" query"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("search")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'240e:47d:c20:1627:30a3:ba0d:a5e6:ec19'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// { country: "中国", province: "广东省", city: "", isp: "中国电信" }')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("获取域名对应的ip")])]),s._v(" "),t("p",[s._v("这里可以使用dns模块的"),t("code",[s._v("lookupService")]),s._v("方法，可以查询域名对应的ip地址。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" dns "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dns'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lookup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.baidu.com'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 180.101.49.12")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("dns的方法就到这里，具体的可以看"),t("a",{attrs:{href:"https://nodejs.org/dist/latest-v16.x/docs/api/dns.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nodejs的dns文档"),t("OutboundLink")],1),s._v("的说明。")]),s._v(" "),t("h2",{attrs:{id:"实战案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实战案例"}},[s._v("#")]),s._v(" 实战案例")]),s._v(" "),t("p",[s._v("接下来就通过speedtest.net提供的命令行工具测速一下网速。")]),s._v(" "),t("h3",{attrs:{id:"安装命令行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装命令行"}},[s._v("#")]),s._v(" 安装命令行")]),s._v(" "),t("ul",[t("li",[s._v("macOS")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("brew tap teamookla/speedtest\nbrew update\nbrew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" speedtest "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--force")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-macosx-universal.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("Ubuntu/Debian")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.deb.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" speedtest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("Fedora/Centos/Redhat")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" https://packagecloud.io/install/repositories/ookla/speedtest-cli/script.rpm.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" speedtest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("FreeBSD")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pkg update "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pkg "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" libidn2 ca_root_nss\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pkg "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-freebsd12-x86_64.pkg"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# freeBSD 13 install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pkg "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-freebsd13-x86_64.pkg"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("windows")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-win64.zip",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("Linux")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-linux-x86_64.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("x86_64"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-linux-i386.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("i386"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-linux-armel.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("armel"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-linux-armhf.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("armhf"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://install.speedtest.net/app/cli/ookla-speedtest-1.2.0-linux-aarch64.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("aarch64"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"查看帮助命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看帮助命令"}},[s._v("#")]),s._v(" 查看帮助命令")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("Speedtest by Ookla is the official "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line client "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" testing the speed and performance of your internet connection.\n\nVersion: speedtest "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(".0.84\n\nUsage: speedtest "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  -h, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("                        Print usage information\n  -V, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("                     Print version number\n  -L, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--servers")]),s._v("                     List nearest servers\n  -s, --server-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                 Specify a server from the server list using its id")]),s._v("\n  -I, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--interface")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG               Attempt to "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" to the specified interface when connecting to servers\n  -i, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ip")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG                      Attempt to "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" to the specified IP address when connecting to servers\n  -o, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG                    Specify a server, from the server list, using its "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s fully qualified domain name\n  -p, --progress=yes|no             Enable or disable progress bar (Note: only available for '")]),s._v("human-readable"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\n                                    or '")]),s._v("json' and defaults to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" when interactive"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -P, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--precision")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                 Number of decimals to use (0-8, default=2)")]),s._v("\n  -f, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG                  Output "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("see below "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" valid formats"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --progress-update-interval"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Progress update interval (100-1000 milliseconds)")]),s._v("\n  -u, --unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                  Output unit "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" displaying speeds "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Note: this is only applicable\n                                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" ‘human-readable’ output "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" and the default unit is Mbps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("                                Shortcut "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u auto-decimal-bits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("                                Shortcut "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u auto-decimal-bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v("                                Shortcut "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u auto-binary-bits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-B")]),s._v("                                Shortcut "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u auto-binary-bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      --selection-details           Show server selection details\n      --ca-certificate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ARG          CA Certificate bundle path\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("                                Logging verbosity. Specify multiple "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("times")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" higher verbosity\n      --output-header               Show output header "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" CSV and TSV formats\n\n Valid output formats: human-readable "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", csv, tsv, json, jsonl, json-pretty\n\n Machine readable formats "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("csv, tsv, json, jsonl, json-pretty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" use bytes as the unit of measure with max precision\n\n Valid "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("units")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" flag:\n   Decimal prefix, bits per second:  bps, kbps, Mbps, Gbps\n   Decimal prefix, bytes per second: B/s, kB/s, MB/s, GB/s\n   Binary prefix, bits per second:   kibps, Mibps, Gibps\n   Binary prefix, bytes per second:  kiB/s, MiB/s, GiB/s\n   Auto-scaled prefix: auto-binary-bits, auto-binary-bytes, auto-decimal-bits, auto-decimal-bytes\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("h3",{attrs:{id:"获取网速服务商"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取网速服务商"}},[s._v("#")]),s._v(" 获取网速服务商")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("speedtest "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--servers")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("结果是")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("Closest servers:\n\n    ID  Name                           Location             Country\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6715")]),s._v("  China Mobile Zhejiang 5G       Hangzhou             China\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5396")]),s._v("  China Telecom JiangSu 5G       Suzhou               China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45170")]),s._v("  China Unicom                   Wu Xi                China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30852")]),s._v("  Duke Kunshan University        Kunshan              China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24447")]),s._v("  China Unicom 5G                ShangHai             China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25637")]),s._v("  Chinamobile-5G                 Shanghai             China\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3633")]),s._v("  China Telecom                  Shanghai             China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36663")]),s._v("  China Telecom JiangSu 5G       Zhenjiang            China\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26352")]),s._v("  China Telecom JiangSu 5G       Nanjing              China\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5317")]),s._v("  江苏电信5G                 Yangzhou             China\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),t("p",[s._v("我就选择第一个id为6715的中国移动浙江5G服务商吧。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("speedtest --server-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6715")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("测试结果为")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("   Speedtest by Ookla\n\n      Server: China Mobile Zhejiang 5G - Hangzhou "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6715")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n         ISP: China Telecom\nIdle Latency:     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.50")]),s._v(" ms   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jitter: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".21ms, low: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".33ms, high: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(".10ms"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Download:    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93.55")]),s._v(" Mbps "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data used: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("58.3")]),s._v(" MB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.61")]),s._v(" ms   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jitter: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".47ms, low: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(".80ms, high: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(".25ms"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      Upload:    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.23")]),s._v(" Mbps "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data used: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40.7")]),s._v(" MB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.31")]),s._v(" ms   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jitter: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".19ms, low: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".37ms, high: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("335")]),s._v(".13ms"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n Packet Loss:     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("%\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("当然，以上是通过Linux的centos7发行版测试的，我们可以试一下node看看行不行。")]),s._v(" "),t("h3",{attrs:{id:"node测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node测试"}},[s._v("#")]),s._v(" node测试")]),s._v(" "),t("ul",[t("li",[s._v("新建文件夹")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" speedtest\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" speedtest\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("安装测试包")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i speedtest-cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("获取运营商")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("speedtest-cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--json")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("测试开始")])]),s._v(" "),t("p",[s._v("sid就是运营商的id。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("speedtest-cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--share")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--json")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--server")]),s._v(" sid\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("刚刚试了下貌似不可以，去年我用的时候还是可以的，那就直接引入包测试下吧。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// speed.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" speedtest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'speedtest-cli'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("speedtest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("测试结果如下：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("START: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1663385827468")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nreceived  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".01Mb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("%\nreceived  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".21Mb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("%\nreceived  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".02Mb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("%\nreceived  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".74Mb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),s._v("%\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("没有达到想要的效果，那还是使用ookla家的测试命令行工具吧。")]),s._v(" "),t("p",[s._v("通过以上几个步骤就可以测试你的网速了。")]),s._v(" "),t("h2",{attrs:{id:"写在最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写在最后"}},[s._v("#")]),s._v(" 写在最后")]),s._v(" "),t("p",[s._v("以上就是我之前开发测速小工具的一些心得体会，如果对此感兴趣的朋友，也可以试着体验一下哦。")])])}),[],!1,null,null,null);t.default=e.exports}}]);