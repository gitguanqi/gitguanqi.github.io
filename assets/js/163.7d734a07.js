(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{491:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("使用php开源软件这么长时间了，也是时候写一篇关于如何手动配置php开发环境的文章了，一开始使用的phpstudy,但是毕竟是别人配置的，我这个人不喜欢这样，直接用这类集成环境软件，省去了中间部分，但总感觉少了些什么，手动的会让你增长一些知识的。")])]),s._v(" "),t("h2",{attrs:{id:"目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[s._v("#")]),s._v(" 目录")]),s._v(" "),t("ul",[t("li",[s._v("工具准备")]),s._v(" "),t("li",[s._v("下载安装包")]),s._v(" "),t("li",[s._v("配置环境")]),s._v(" "),t("li",[s._v("实战演练")])]),s._v(" "),t("h2",{attrs:{id:"工具准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具准备"}},[s._v("#")]),s._v(" 工具准备")]),s._v(" "),t("ul",[t("li",[s._v("windows10一台")])]),s._v(" "),t("h2",{attrs:{id:"下载安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载安装包"}},[s._v("#")]),s._v(" 下载安装包")]),s._v(" "),t("p",[s._v("下载的安装包包括php-7.4，mysql8.0.21,nginx-1.19.3,选择适合你系统的版本进行下载，这里下载的都是最新版。")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://windows.php.net/download#php-7.4",target:"_blank",rel:"noopener noreferrer"}},[s._v("php源码下载地址"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("最好下载这种 "),t("code",[s._v("Thread Safe")]),s._v("的,里面有后面需要的php-cgi程序。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp01.jpg",alt:"php源码下载地址"}})]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql8下载地址"),t("OutboundLink")],1)])]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp02.jpg",alt:"mysql8下载地址"}})]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx下载地址"),t("OutboundLink")],1)])]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp03.jpg",alt:"nginx下载地址"}})]),s._v(" "),t("h2",{attrs:{id:"配置环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置环境"}},[s._v("#")]),s._v(" 配置环境")]),s._v(" "),t("p",[s._v("下载下来以后，首先对其进行解压缩，然后在一个磁盘建立一个专门的文件夹，例如"),t("code",[s._v("wnmp")]),s._v("，用来存放程序。")]),s._v(" "),t("p",[s._v("目录结构大致如下：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n+ wnmp\n  - nginx-1.19.3\n  - php-7.4\n  - mysql-8.0.21\n*/")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"配置nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx"}},[s._v("#")]),s._v(" 配置nginx")]),s._v(" "),t("p",[s._v("这个简单，只需要把nginx放入环境变量即可。")]),s._v(" "),t("p",[s._v("环境变量全局都可以访问，分为用户的和系统的，在"),t("code",[s._v("我的电脑->属性->高级系统设置->高级->环境变量")]),s._v("。")]),s._v(" "),t("p",[s._v("比如我这个是"),t("code",[s._v("D:/soft/wnmp/nginx")]),s._v(",放入"),t("strong",[s._v("PATH")]),s._v("里面即可。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp04.jpg",alt:"配置nginx"}})]),s._v(" "),t("p",[s._v("配置好了以后，打开命令行，输入"),t("code",[s._v("nginx -v")]),s._v("即可打印出版本号，说明安装成功！")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp05.jpg",alt:"配置nginx"}})]),s._v(" "),t("h3",{attrs:{id:"配置php"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置php"}},[s._v("#")]),s._v(" 配置php")]),s._v(" "),t("p",[s._v("这个也和nginx类似，把php目录放入环境变量里面。")]),s._v(" "),t("p",[s._v("如何保存打印，显示版本号即安装成功。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp06.jpg",alt:"配置php"}})]),s._v(" "),t("p",[s._v("接下来，就是配置文件，把目录下的"),t("code",[s._v("php.ini-development")]),s._v("复制一份，保存为"),t("code",[s._v("php.ini")]),s._v("，然后把部分配置修改一下，例如扩展文件路径。")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("; Directory in which the loadable extensions (modules) reside.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("; http://php.net/extension-dir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('; extension_dir = "./"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("; On windows:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension_dir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[s._v("D:/soft/wnmp/php/ext")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("开启部分扩展，例如"),t("code",[s._v("curl,fileinfo,gd2,mbstring,mysqli,openssl,pdo_mysql")]),s._v(",只需要把前面的分号去掉即可开启。")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=bz2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("curl")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("fileinfo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("gd2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=gettext")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=gmp")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=intl")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=imap")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=interbase")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=ldap")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mbstring")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("exif      ; Must be after mbstring as it depends on it")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mysqli")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=oci8_12c  ; Use with Oracle Database 12c Instant Client")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=odbc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("openssl")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pdo_firebird")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("pdo_mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pdo_oci")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pdo_odbc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pdo_pgsql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pdo_sqlite")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=pgsql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";extension=shmop")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h3",{attrs:{id:"nginx-php实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-php实例"}},[s._v("#")]),s._v(" nginx+php实例")]),s._v(" "),t("p",[s._v("接下来写一个简单的php程序，验证一下是否可以使用。")]),s._v(" "),t("h4",{attrs:{id:"nginx配置一个php站点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置一个php站点"}},[s._v("#")]),s._v(" nginx配置一个php站点")]),s._v(" "),t("ul",[t("li",[s._v("新建一个nginx配置")])]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("nginx.conf")]),s._v("里面的http里面新增"),t("code",[s._v("include ../site/*.conf;")]),s._v("；")]),s._v(" "),t("ul",[t("li",[s._v("编写conf文件")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# php test site")]),s._v("\nserver "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n  listen   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  server_name  localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  root   D:/soft/wnmp/php-7.4/test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  index  index.php index.html index.htm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  access_log "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:/soft/wnmp/nginx/logs/phptest-access.log"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  error_log "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:/soft/wnmp/nginx/logs/phptest-error.log"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  location ~ .*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("php"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("php5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("?$ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    index index.php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    fastcgi_pass   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:9000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    fastcgi_index  index.php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    fastcgi_param  SCRIPT_FILENAME  D:/soft/wnmp/php-7.4/test"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fastcgi_script_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n    include fastcgi_params"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  location ~ .*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gif"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("jpg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("jpeg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("png"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("bmp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("swf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    expires  30d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  location ~ .*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("js"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("css"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("?$ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    expires  1h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h4",{attrs:{id:"编写php文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编写php文件"}},[s._v("#")]),s._v(" 编写php文件")]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("phpinfo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"预览站点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预览站点"}},[s._v("#")]),s._v(" 预览站点")]),s._v(" "),t("ul",[t("li",[s._v("重启nginx")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("nginx "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("\nnginx "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("编写php-cgi脚本")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" wscriptObj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CreateObject"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Wscript.Shell"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nwscriptObj.run "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"php-cgi -b 127.0.0.1:9000"')]),s._v(",0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("最后打开游览器"),t("code",[s._v("http://localhost:8080")]),s._v("。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp07.jpg",alt:"预览站点"}})]),s._v(" "),t("p",[s._v("看到这里就算成功配置了一个php站点，但是还不够，如果你想创建动态站点，就必须要有一个数据库来存储数据。")]),s._v(" "),t("p",[s._v("接下来我们继续配置mysql数据库。")]),s._v(" "),t("h3",{attrs:{id:"配置mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置mysql"}},[s._v("#")]),s._v(" 配置mysql")]),s._v(" "),t("p",[s._v("使用管理员打开命令行，这里我们使用"),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/windows-install-archive.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方推荐的方法"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("ul",[t("li",[s._v("将主存档解压缩到所需的安装目录")]),s._v(" "),t("li",[s._v("创建一个选项配置文件")]),s._v(" "),t("li",[s._v("初始化MySQL")]),s._v(" "),t("li",[s._v("启动MySQL服务器")])]),s._v(" "),t("h4",{attrs:{id:"解压目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压目录"}},[s._v("#")]),s._v(" 解压目录")]),s._v(" "),t("p",[s._v("解压目录至"),t("code",[s._v("wnmp")]),s._v("文件夹。")]),s._v(" "),t("h4",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),t("p",[s._v("在主目录下面新建一个配置文件"),t("code",[s._v("my.ini")]),s._v("。")]),s._v(" "),t("p",[s._v("输入一下内容，包括地址端口，数据存储路径，以及字符编码等内容。")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("mysqld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("3306")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("basedir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("D://soft/wnmp/mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("datadir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("D://soft/wnmp/mysql/data")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("max_connections")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("200")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("max_connect_errors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("default-storage-engine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("INNODB")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mysql_native_password")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("default_authentication_plugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mysql_native_password")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("client")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"初始化mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化mysql"}},[s._v("#")]),s._v(" 初始化MySQL")]),s._v(" "),t("p",[s._v("在命令行输入"),t("code",[s._v("--initialize --console")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" D:/soft/wnmp/mysql8.0.21/bin\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入")]),s._v("\nmysqld "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--initialize")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--console")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("接着会打印出一些内容，其中找到"),t("code",[s._v("A temporary password is generated")]),s._v("后面跟的就是初始化密码，运行以下命令进入服务器，修改管理员密码。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\nEnter password: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("enter the random root password here"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nALTER "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root-password'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"启动mysql服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql服务器"}},[s._v("#")]),s._v(" 启动MySQL服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("net start mysqld\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("加入环境变量，打印版本号。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp08.jpg",alt:"启动MySQL服务器"}})]),s._v(" "),t("p",[s._v("到这里，基本上的都安装完成了，现在进行一个实战训练。")]),s._v(" "),t("p",[s._v("写一个基本的连接mysql的php程序。")]),s._v(" "),t("h3",{attrs:{id:"php连接mysql案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php连接mysql案例"}},[s._v("#")]),s._v(" php连接mysql案例")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("新建一个mysql用户和数据库，用户名称为"),t("code",[s._v("test")]),s._v(",密码为"),t("code",[s._v("123456")]),s._v("；")])]),s._v(" "),t("li",[t("p",[s._v("新建一个php文件，写入以下内容；")])])]),s._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$serverName")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$userName")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'test'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'123456'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$conn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("mysqli")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$serverName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$userName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$conn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("connect_error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("die")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'连接失败：'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$conn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("connect_error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'连接成功!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ul",[t("li",[s._v("打开游览器预览")])]),s._v(" "),t("p",[s._v("打开地址"),t("code",[s._v("http://localhost:8080/mysql.php")]),s._v("。")]),s._v(" "),t("p",[s._v("如果页面显示"),t("code",[s._v("连接成功")]),s._v("表示试验成功！")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/wnmp09.jpg",alt:"打开游览器预览"}})]),s._v(" "),t("h2",{attrs:{id:"写在最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写在最后"}},[s._v("#")]),s._v(" 写在最后")]),s._v(" "),t("p",[s._v("其实整个过程配置下来觉得也没有那么麻烦，那么累，只要你坚持一步一步下去，就会配置成功的，加油！接下来，你就可以尽情的畅游在php的世界之中了，可以按照各种php开源程序，酷cool!")])])}),[],!1,null,null,null);t.default=e.exports}}]);